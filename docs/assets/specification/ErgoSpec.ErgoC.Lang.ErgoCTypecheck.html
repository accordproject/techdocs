
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module ErgoSpec.ErgoC.Lang.ErgoCTypecheck</title>
<meta name="description" content="Documentation of Coq module ErgoSpec.ErgoC.Lang.ErgoCTypecheck" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module ErgoSpec.ErgoC.Lang.ErgoCTypecheck</h1>
<div class="coq">
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html">String</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html">List</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Program.Basics.html">Basics</a></span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="ErgoSpec.Utils.Misc.html">ErgoSpec.Utils.Misc</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html">ErgoSpec.Backend.QLib</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="ErgoSpec.Common.Names.html">ErgoSpec.Common.Names</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="ErgoSpec.Common.NamespaceContext.html">ErgoSpec.Common.NamespaceContext</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="ErgoSpec.Common.Result.html">ErgoSpec.Common.Result</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="ErgoSpec.Common.Provenance.html">ErgoSpec.Common.Provenance</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="ErgoSpec.Common.Ast.html">ErgoSpec.Common.Ast</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="ErgoSpec.Common.PrintTypedData.html">ErgoSpec.Common.PrintTypedData</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html">ErgoSpec.Types.ErgoCTypeUtil</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="ErgoSpec.Types.ErgoTypetoErgoCType.html">ErgoSpec.Types.ErgoTypetoErgoCType</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html">ErgoSpec.Ergo.Lang.Ergo</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html">ErgoSpec.ErgoC.Lang.ErgoC</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCOverloaded.html">ErgoSpec.ErgoC.Lang.ErgoCOverloaded</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html">ErgoSpec.ErgoC.Lang.ErgoCT</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheckContext.html">ErgoSpec.ErgoC.Lang.ErgoCTypecheckContext</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="ErgoCTypecheck">ErgoCTypecheck</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">m</span> : <span class="id"><a href="https://querycert.github.io/html/Qcert.TypeSystem.TBrandModel.html#brand_model">brand_model</a></span>}.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Import</span> <span class="id">QcertType</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Fixpoint</span> <span class="id"><a name="ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id">nsctxt</span> (<span class="id">ctxt</span> : <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheckContext.html#type_context">type_context</a></span>) (<span class="id">expr</span> : <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#ergoc_expr">ergoc_expr</a></span>) : <span class="id"><a href="ErgoSpec.Common.Result.html#eresult">eresult</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#ergoct_expr">ergoct_expr</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#expr">expr</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#EThis">EThis</a></span> <span class="id">prov</span> =&gt; <span class="id"><a href="ErgoSpec.Common.Result.html#this_in_calculus_error">this_in_calculus_error</a></span> <span class="id">prov</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#EThisContract">EThisContract</a></span> <span class="id">prov</span> =&gt; <span class="id"><a href="ErgoSpec.Common.Result.html#contract_in_calculus_error">contract_in_calculus_error</a></span> <span class="id">prov</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#EThisClause">EThisClause</a></span>   <span class="id">prov</span> =&gt; <span class="id"><a href="ErgoSpec.Common.Result.html#clause_in_calculus_error">clause_in_calculus_error</a></span> <span class="id">prov</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#EThisState">EThisState</a></span>    <span class="id">prov</span> =&gt; <span class="id"><a href="ErgoSpec.Common.Result.html#state_in_calculus_error">state_in_calculus_error</a></span> <span class="id">prov</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#EVar">EVar</a></span> <span class="id">prov</span> <span class="id">name</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">opt</span> := <span class="id"><a href="https://querycert.github.io/html/Qcert.Utils.Assoc.html#lookup">lookup</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string_dec">String.string_dec</a></span> (<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span>.(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheckContext.html#type_context_local_env">type_context_local_env</a></span>)++<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span>.(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheckContext.html#type_context_global_env">type_context_global_env</a></span>)) <span class="id">name</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">topt</span> := <span class="id"><a href="ErgoSpec.Common.Result.html#eresult_of_option">eresult_of_option</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#opt">opt</a></span> (<span class="id"><a href="ErgoSpec.Common.Result.html#ETypeError">ETypeError</a></span> <span class="id">prov</span> ("<span class="kwd">Variable</span> `" ++ <span class="id">name</span> ++ "' <span class="id">not</span> <span class="id">found</span>.")%<span class="id">string</span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#elift">elift</a></span> (<span class="kwd">fun</span> <span class="id">T</span> =&gt; <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#EVar">EVar</a></span> (<span class="id">prov</span>,<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#T">T</a></span>) <span class="id">name</span>) <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#topt">topt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#EConst">EConst</a></span> <span class="id">prov</span> <span class="id">d</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">topt</span> := <span class="id"><a href="ErgoSpec.Common.Result.html#eresult_of_option">eresult_of_option</a></span> (<span class="id"><a href="https://querycert.github.io/html/Qcert.Data.ModelTyping.TDataInfer.html#infer_data_type">infer_data_type</a></span> <span class="id">d</span>) (<span class="id"><a href="ErgoSpec.Common.Result.html#ETypeError">ETypeError</a></span> <span class="id">prov</span> "<span class="id">Bad</span> <span class="id">constant</span>.") <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#elift">elift</a></span> (<span class="kwd">fun</span> <span class="id">T</span> =&gt; <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#EConst">EConst</a></span> (<span class="id">prov</span>,<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#T">T</a></span>) <span class="id">d</span>) <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#topt">topt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#EText">EText</a></span> <span class="id">prov</span> <span class="id">_</span> =&gt; <span class="id"><a href="ErgoSpec.Common.Result.html#text_in_calculus_error">text_in_calculus_error</a></span> <span class="id">prov</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#ENone">ENone</a></span> <span class="id">prov</span> =&gt; <span class="id"><a href="ErgoSpec.Common.Result.html#esuccess">esuccess</a></span> (<span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#ENone">ENone</a></span> (<span class="id">prov</span>, <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.toption">toption</a></span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tbottom">tbottom</a></span>)) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#ESome">ESome</a></span> <span class="id">prov</span> <span class="id">e</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#elift">elift</a></span> (<span class="kwd">fun</span> <span class="id">eT</span> =&gt; <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#ESome">ESome</a></span> (<span class="id">prov</span>,<span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.toption">toption</a></span> (<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#exprct_type_annot">exprct_type_annot</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT">eT</a></span>)) <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT">eT</a></span>) (<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span> <span class="id">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#EArray">EArray</a></span> <span class="id">prov</span> <span class="id">es</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#elift">elift</a></span> (<span class="kwd">fun</span> <span class="id">eT</span> =&gt; <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#EArray">EArray</a></span> (<span class="id">prov</span>,<span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tcoll">tcoll</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT">eT</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT">eT</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#fold_right">fold_right</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> (<span class="id">new</span>:<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#ergoc_expr">ergoc_expr</a></span>) (<span class="id">eT</span>:<span class="id"><a href="ErgoSpec.Common.Result.html#eresult">eresult</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#ergoct_expr">ergoct_expr</a></span> * <span class="id"><a href="ErgoSpec.Backend.QLib.html#ergoc_type">ergoc_type</a></span>)) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#eolift">eolift</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> (<span class="id">eT</span>':<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#ergoct_expr">ergoct_expr</a></span> * <span class="id"><a href="ErgoSpec.Backend.QLib.html#ergoc_type">ergoc_type</a></span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#elift">elift</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> (<span class="id">new</span>':<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#ergoct_expr">ergoct_expr</a></span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">new</span>'::(<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">eT</span>'), <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.ergoc_type_join">ergoc_type_join</a></span> (<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#exprct_type_annot">exprct_type_annot</a></span> <span class="id">new</span>') (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">eT</span>')))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#new">new</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT">eT</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Common.Result.html#esuccess">esuccess</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>,<span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tbottom">tbottom</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id">es</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#EUnaryOperator">EUnaryOperator</a></span> <span class="id">prov</span> <span class="id">eop</span> <span class="id">e</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#eolift">eolift</a></span> (<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCOverloaded.html#unary_dispatch">unary_dispatch</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id">prov</span> <span class="id">eop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span> <span class="id">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#EBinaryOperator">EBinaryOperator</a></span> <span class="id">prov</span> <span class="id">eop</span> <span class="id">e1</span> <span class="id">e2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#eolift2">eolift2</a></span> (<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCOverloaded.html#binary_dispatch">binary_dispatch</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id">prov</span> <span class="id">eop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span> <span class="id">e1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span> <span class="id">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#EUnaryBuiltin">EUnaryBuiltin</a></span> <span class="id">prov</span> <span class="id">op</span> <span class="id">e</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#eolift">eolift</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">eT</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">t</span> := <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#exprct_type_annot">exprct_type_annot</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT">eT</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.ergoc_type_infer_unary_op">ergoc_type_infer_unary_op</a></span> <span class="id">op</span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#t">t</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">r</span>, <span class="id">_</span>) =&gt; <span class="id"><a href="ErgoSpec.Common.Result.html#esuccess">esuccess</a></span> (<span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#EUnaryBuiltin">EUnaryBuiltin</a></span> (<span class="id">prov</span>,<span class="id">r</span>) <span class="id">op</span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT">eT</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="ErgoSpec.Common.Result.html#efailure">efailure</a></span> (<span class="id"><a href="ErgoSpec.Common.Result.html#ETypeError">ETypeError</a></span> <span class="id">prov</span> (<span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#ergo_format_unop_error">ergo_format_unop_error</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id">op</span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#t">t</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span> <span class="id">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#EBinaryBuiltin">EBinaryBuiltin</a></span> <span class="id">prov</span> <span class="id">op</span> <span class="id">e1</span> <span class="id">e2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#eolift2">eolift2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">eT1</span> <span class="id">eT2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">t1</span> := <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#exprct_type_annot">exprct_type_annot</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT1">eT1</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">t2</span> := <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#exprct_type_annot">exprct_type_annot</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT2">eT2</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.ergoc_type_infer_binary_op">ergoc_type_infer_binary_op</a></span> <span class="id">op</span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#t1">t1</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#t2">t2</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">r</span>, <span class="id">_</span>, <span class="id">_</span>) =&gt; <span class="id"><a href="ErgoSpec.Common.Result.html#esuccess">esuccess</a></span> (<span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#EBinaryBuiltin">EBinaryBuiltin</a></span> (<span class="id">prov</span>,<span class="id">r</span>) <span class="id">op</span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT1">eT1</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT2">eT2</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="ErgoSpec.Common.Result.html#efailure">efailure</a></span> (<span class="id"><a href="ErgoSpec.Common.Result.html#ETypeError">ETypeError</a></span> <span class="id">prov</span> (<span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#ergo_format_binop_error">ergo_format_binop_error</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id">op</span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#t1">t1</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#t2">t2</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span> <span class="id">e1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span> <span class="id">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#EIf">EIf</a></span> <span class="id">prov</span> <span class="id">c</span> <span class="id">t</span> <span class="id">f</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#eolift">eolift</a></span> (<span class="kwd">fun</span> <span class="id">cT</span>' =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.ergoc_type_subtype_dec">ergoc_type_subtype_dec</a></span> (<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#exprct_type_annot">exprct_type_annot</a></span> <span class="id">cT</span>') <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tbool">tbool</a></span> <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#elift2">elift2</a></span> (<span class="kwd">fun</span> <span class="id">eT1</span> <span class="id">eT2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">t1</span> := <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#exprct_type_annot">exprct_type_annot</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT1">eT1</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">t2</span> := <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#exprct_type_annot">exprct_type_annot</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT2">eT2</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#EIf">EIf</a></span> (<span class="id">prov</span>,<span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.ergoc_type_join">ergoc_type_join</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#t1">t1</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#t2">t2</a></span>) <span class="id">cT</span>' <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT1">eT1</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT2">eT2</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span> <span class="id">t</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span> <span class="id">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="ErgoSpec.Common.Result.html#efailure">efailure</a></span> (<span class="id"><a href="ErgoSpec.Common.Result.html#ETypeError">ETypeError</a></span> (<span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#expr_annot">expr_annot</a></span> <span class="id">c</span>) "'<span class="kwd">if</span>' <span class="id">condition</span> <span class="id">not</span> <span class="id">boolean</span>."%<span class="id">string</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span> <span class="id">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#ELet">ELet</a></span> <span class="id">prov</span> <span class="id">n</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">v</span> <span class="id">e</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Common.Result.html#eolift">eolift</a></span> (<span class="kwd">fun</span> <span class="id">evT</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">vt</span> := <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#exprct_type_annot">exprct_type_annot</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#evT">evT</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">ctxt</span>' := <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheckContext.html#type_context_update_local_env">type_context_update_local_env</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span> <span class="id">n</span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#vt">vt</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#elift">elift</a></span> (<span class="kwd">fun</span> <span class="id">eT</span> =&gt; <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#ELet">ELet</a></span> (<span class="id">prov</span>, <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#exprct_type_annot">exprct_type_annot</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT">eT</a></span>) <span class="id">n</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#evT">evT</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT">eT</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id">ctxt</span>' <span class="id">e</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span> <span class="id">v</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#ELet">ELet</a></span> <span class="id">prov</span> <span class="id">n</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">t</span>) <span class="id">v</span> <span class="id">e</span>  =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">fmt_err</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id">t</span>' <span class="id">vt</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">prov</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.Common.Provenance.html#ProvFunc">ProvFunc</a></span> <span class="id">_</span> <span class="id">fname</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#ETypeError">ETypeError</a></span> <span class="id">prov</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("<span class="id">Function</span> `" ++ <span class="id">fname</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "' <span class="id">expected</span> <span class="id">argument</span> `"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "' <span class="id">to</span> <span class="id">be</span> <span class="id">of</span> <span class="id">type</span> `"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ (<span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id">t</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "' <span class="id">but</span> <span class="id">was</span> <span class="id">given</span> <span class="id">argument</span> <span class="id">of</span> <span class="id">type</span> `"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ (<span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#vt">vt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "'." )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="ErgoSpec.Common.Result.html#ETypeError">ETypeError</a></span> <span class="id">prov</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("<span class="id">The</span> <span class="kwd">let</span> <span class="id">type</span> <span class="id">annotation</span> `"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ (<span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id">t</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "' <span class="kwd">for</span> <span class="id">the</span> <span class="id">name</span> `"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "' <span class="id">does</span> <span class="id">not</span> <span class="kwd">match</span> <span class="id">the</span> <span class="id">actual</span> <span class="id">type</span> `"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ (<span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#vt">vt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "'.")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Common.Result.html#eolift">eolift</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">evT</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">vt</span> := <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#exprct_type_annot">exprct_type_annot</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#evT">evT</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">t</span>' := (<span class="id"><a href="ErgoSpec.Types.ErgoTypetoErgoCType.html#ergo_type_to_ergoc_type">ergo_type_to_ergoc_type</a></span> <span class="id">t</span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="https://querycert.github.io/html/Qcert.TypeSystem.RSubtype.html#subtype_dec">subtype_dec</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#vt">vt</a></span> <span class="id">t</span>' <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">ctxt</span>' :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheckContext.html#type_context_update_local_env">type_context_update_local_env</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span> <span class="id">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">t</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#elift">elift</a></span> (<span class="kwd">fun</span> <span class="id">eT</span> =&gt; <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#ELet">ELet</a></span> (<span class="id">prov</span>, <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#exprct_type_annot">exprct_type_annot</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT">eT</a></span>) <span class="id">n</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">t</span>) <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#evT">evT</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT">eT</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id">ctxt</span>' <span class="id">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#efailure">efailure</a></span> (<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#fmt_err">fmt_err</a></span> <span class="id">t</span>' <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#vt">vt</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span> <span class="id">v</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#EPrint">EPrint</a></span> <span class="id">prov</span> <span class="id">v</span> <span class="id">e</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#print_in_calculus_error">print_in_calculus_error</a></span> <span class="id">prov</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#ERecord">ERecord</a></span> <span class="id">prov</span> <span class="id">rs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#elift">elift</a></span> (<span class="kwd">fun</span> <span class="id">eT</span> =&gt; <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#ERecord">ERecord</a></span> (<span class="id">prov</span>,(<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT">eT</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT">eT</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#fold_right">fold_right</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> (<span class="id">next</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#ergoc_expr">ergoc_expr</a></span>) (<span class="id">sofar</span>:<span class="id"><a href="ErgoSpec.Common.Result.html#eresult">eresult</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#ergoct_expr">ergoct_expr</a></span>) * <span class="id"><a href="ErgoSpec.Backend.QLib.html#ergoc_type">ergoc_type</a></span>)) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#eolift2">eolift2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> (<span class="id">sofar</span>':<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#ergoct_expr">ergoct_expr</a></span>) * <span class="id"><a href="ErgoSpec.Backend.QLib.html#ergoc_type">ergoc_type</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">next</span>':(<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#ergoct_expr">ergoct_expr</a></span>) * <span class="id"><a href="ErgoSpec.Backend.QLib.html#ergoc_type">ergoc_type</a></span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#elift">elift</a></span> (<span class="kwd">fun</span> <span class="id">T</span>' =&gt; (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">next</span>'::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">sofar</span>',<span class="id"><a href="http://coq.inria.fr/library/Coq.Program.Basics.html#compose">compose</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">T</span>'))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Common.Result.html#eresult_of_option">eresult_of_option</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.ergoc_type_infer_binary_op">ergoc_type_infer_binary_op</a></span> <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpRecConcat">OpRecConcat</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">next</span>') (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">sofar</span>'))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Common.Result.html#ETypeError">ETypeError</a></span> <span class="id">prov</span> "<span class="id">Bad</span> <span class="id">record</span>! <span class="id">Failed</span> <span class="id">to</span> <span class="id">concat</span>."%<span class="id">string</span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofar">sofar</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Common.Result.html#eolift">eolift</a></span> (<span class="kwd">fun</span> <span class="id">efT</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">ft</span> := <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#exprct_type_annot">exprct_type_annot</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#efT">efT</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#elift">elift</a></span> (<span class="kwd">fun</span> <span class="id">T</span> =&gt; ((<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#next">next</a></span>,<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#efT">efT</a></span>), <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#T">T</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Common.Result.html#eresult_of_option">eresult_of_option</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.ergoc_type_infer_unary_op">ergoc_type_infer_unary_op</a></span> (<span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpRec">OpRec</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#next">next</a></span>)) <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ft">ft</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Common.Result.html#ETypeError">ETypeError</a></span> <span class="id">prov</span> "<span class="id">Bad</span> <span class="id">record</span>! <span class="id">Failed</span> <span class="id">to</span> <span class="id">init</span>."%<span class="id">string</span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#next">next</a></span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Common.Result.html#esuccess">esuccess</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>,<span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#empty_rec_type">empty_rec_type</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id">rs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#ENew">ENew</a></span> <span class="id">prov</span> <span class="id">name</span> <span class="id">rs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#eolift">eolift</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">rsT</span>' =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#elift">elift</a></span> (<span class="kwd">fun</span> <span class="id">T</span>'' =&gt; <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#ENew">ENew</a></span> (<span class="id">prov</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">T</span>'') <span class="id">name</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">rsT</span>'))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Common.Result.html#eresult_of_option">eresult_of_option</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.infer_brand_strict">infer_brand_strict</a></span> (<span class="id">name</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">rsT</span>'))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Common.Result.html#ETypeError">ETypeError</a></span> <span class="id">prov</span> (<span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#ergo_format_new_error">ergo_format_new_error</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id">name</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">rsT</span>'))) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#fold_right">fold_right</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> (<span class="id">next</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#ergoc_expr">ergoc_expr</a></span>) (<span class="id">sofar</span>:<span class="id"><a href="ErgoSpec.Common.Result.html#eresult">eresult</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#ergoct_expr">ergoct_expr</a></span>) * <span class="id"><a href="ErgoSpec.Backend.QLib.html#ergoc_type">ergoc_type</a></span>)) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#eolift2">eolift2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> (<span class="id">sofar</span>':<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#ergoct_expr">ergoct_expr</a></span>) * <span class="id"><a href="ErgoSpec.Backend.QLib.html#ergoc_type">ergoc_type</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">next</span>':(<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#ergoct_expr">ergoct_expr</a></span>) * <span class="id"><a href="ErgoSpec.Backend.QLib.html#ergoc_type">ergoc_type</a></span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#elift">elift</a></span> (<span class="kwd">fun</span> <span class="id">T</span>' =&gt; (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">next</span>'::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">sofar</span>',<span class="id"><a href="http://coq.inria.fr/library/Coq.Program.Basics.html#compose">compose</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">T</span>'))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Common.Result.html#eresult_of_option">eresult_of_option</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.ergoc_type_infer_binary_op">ergoc_type_infer_binary_op</a></span> <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpRecConcat">OpRecConcat</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">next</span>') (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">sofar</span>'))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Common.Result.html#ETypeError">ETypeError</a></span> <span class="id">prov</span> "<span class="id">Bad</span> <span class="id">record</span>! <span class="id">Failed</span> <span class="id">to</span> <span class="id">concat</span>."%<span class="id">string</span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofar">sofar</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Common.Result.html#eolift">eolift</a></span> (<span class="kwd">fun</span> <span class="id">efT</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">ft</span> := <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#exprct_type_annot">exprct_type_annot</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#efT">efT</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#elift">elift</a></span> (<span class="kwd">fun</span> <span class="id">T</span> =&gt; ((<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#next">next</a></span>,<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#efT">efT</a></span>), <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#T">T</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Common.Result.html#eresult_of_option">eresult_of_option</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.ergoc_type_infer_unary_op">ergoc_type_infer_unary_op</a></span> (<span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpRec">OpRec</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#next">next</a></span>)) <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ft">ft</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Common.Result.html#ETypeError">ETypeError</a></span> <span class="id">prov</span> "<span class="id">Bad</span> <span class="id">record</span>! <span class="id">Failed</span> <span class="id">to</span> <span class="id">init</span>."%<span class="id">string</span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#next">next</a></span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Common.Result.html#esuccess">esuccess</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>,<span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#empty_rec_type">empty_rec_type</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id">rs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#ECallFun">ECallFun</a></span> <span class="id">prov</span> <span class="id">fname</span> <span class="id">args</span> =&gt; <span class="id"><a href="ErgoSpec.Common.Result.html#function_not_inlined_error">function_not_inlined_error</a></span> <span class="id">prov</span> "<span class="id">typing</span>" <span class="id">fname</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#ECallFunInGroup">ECallFunInGroup</a></span> <span class="id">prov</span> <span class="id">gname</span> <span class="id">fname</span> <span class="id">args</span> =&gt; <span class="id"><a href="ErgoSpec.Common.Result.html#function_in_group_not_inlined_error">function_in_group_not_inlined_error</a></span> <span class="id">prov</span> <span class="id">gname</span> <span class="id">fname</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#EMatch">EMatch</a></span> <span class="id">prov</span> <span class="id">term</span> <span class="id">pes</span> <span class="id">default</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#eolift2">eolift2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">eT0</span> <span class="id">dT</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">t0</span> := <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#exprct_type_annot">exprct_type_annot</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT0">eT0</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">dt</span> := <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#exprct_type_annot">exprct_type_annot</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#dT">dT</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#elift">elift</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">ecasesT</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#EMatch">EMatch</a></span> (<span class="id">prov</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ecasesT">ecasesT</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT0">eT0</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ecasesT">ecasesT</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#dT">dT</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#fold_right">fold_right</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">pe</span> <span class="id">sofarT</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#pe">pe</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id"><a href="ErgoSpec.Common.Ast.html#CaseData">CaseData</a></span> <span class="id">prov</span> <span class="id">d</span>, <span class="id">res</span>) =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.ergoc_type_infer_data">ergoc_type_infer_data</a></span> <span class="id">d</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="ErgoSpec.Common.Result.html#efailure">efailure</a></span> (<span class="id"><a href="ErgoSpec.Common.Result.html#ETypeError">ETypeError</a></span> <span class="id">prov</span> "<span class="id">Ill</span>-<span class="id">typed</span> <span class="id">data</span> <span class="id">literal</span>!")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">dt</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#elift2">elift2</a></span> (<span class="kwd">fun</span> <span class="id">sofarT</span> <span class="id">eT</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">et</span> := <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#exprct_type_annot">exprct_type_annot</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT">eT</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">sofart</span> := <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.ergoc_type_join">ergoc_type_join</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#et">et</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofarT">sofarT</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id"><a href="ErgoSpec.Common.Ast.html#CaseData">CaseData</a></span> (<span class="id">prov</span>,<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofart">sofart</a></span>) <span class="id">d</span>,<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT">eT</a></span>)::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofarT">sofarT</a></span>, <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofart">sofart</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofarT">sofarT</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span> <span class="id">res</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id"><a href="ErgoSpec.Common.Ast.html#CaseEnum">CaseEnum</a></span> <span class="id">prov</span> <span class="id">name</span>, <span class="id">res</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">opt</span> := <span class="id"><a href="https://querycert.github.io/html/Qcert.Utils.Assoc.html#lookup">lookup</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string_dec">String.string_dec</a></span> (<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span>.(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheckContext.html#type_context_local_env">type_context_local_env</a></span>)++<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span>.(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheckContext.html#type_context_global_env">type_context_global_env</a></span>)) <span class="id">name</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">topt</span> := <span class="id"><a href="ErgoSpec.Common.Result.html#eresult_of_option">eresult_of_option</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#opt">opt</a></span> (<span class="id"><a href="ErgoSpec.Common.Result.html#ETypeError">ETypeError</a></span> <span class="id">prov</span> ("<span class="id">Enum</span> `" ++ <span class="id">name</span> ++ "' <span class="id">not</span> <span class="id">found</span>.")%<span class="id">string</span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#eolift">eolift</a></span> (<span class="kwd">fun</span> <span class="id">dt</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#elift2">elift2</a></span> (<span class="kwd">fun</span> <span class="id">sofarT</span> <span class="id">eT</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">et</span> := <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#exprct_type_annot">exprct_type_annot</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT">eT</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">sofart</span> := <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.ergoc_type_join">ergoc_type_join</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#et">et</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofarT">sofarT</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id"><a href="ErgoSpec.Common.Ast.html#CaseEnum">CaseEnum</a></span> (<span class="id">prov</span>,<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofart">sofart</a></span>) <span class="id">name</span>,<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT">eT</a></span>)::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofarT">sofarT</a></span>, <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofart">sofart</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofarT">sofarT</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span> <span class="id">res</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#topt">topt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id"><a href="ErgoSpec.Common.Ast.html#CaseWildcard">CaseWildcard</a></span> <span class="id">prov</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>, <span class="id">res</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#elift2">elift2</a></span> (<span class="kwd">fun</span> <span class="id">sofarT</span> <span class="id">eT</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">et</span> := <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#exprct_type_annot">exprct_type_annot</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT">eT</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">sofart</span> := <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.ergoc_type_join">ergoc_type_join</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#et">et</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofarT">sofarT</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id"><a href="ErgoSpec.Common.Ast.html#CaseWildcard">CaseWildcard</a></span> (<span class="id">prov</span>,<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofart">sofart</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>,<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT">eT</a></span>)::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofarT">sofarT</a></span>, <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofart">sofart</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofarT">sofarT</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span> <span class="id">res</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id"><a href="ErgoSpec.Common.Ast.html#CaseLet">CaseLet</a></span> <span class="id">prov</span> <span class="id">name</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>, <span class="id">res</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#elift2">elift2</a></span> (<span class="kwd">fun</span> <span class="id">sofarT</span> <span class="id">eT</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">et</span> := <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#exprct_type_annot">exprct_type_annot</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT">eT</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">sofart</span> := <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.ergoc_type_join">ergoc_type_join</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#et">et</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofarT">sofarT</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id"><a href="ErgoSpec.Common.Ast.html#CaseLet">CaseLet</a></span> (<span class="id">prov</span>,<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofart">sofart</a></span>) <span class="id">name</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>,<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT">eT</a></span>)::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofarT">sofarT</a></span>, <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofart">sofart</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofarT">sofarT</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> (<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheckContext.html#type_context_update_local_env">type_context_update_local_env</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span> <span class="id">name</span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#t0">t0</a></span>) <span class="id">res</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id"><a href="ErgoSpec.Common.Ast.html#CaseLet">CaseLet</a></span> <span class="id">prov</span> <span class="id">name</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>), <span class="id">res</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#elift2">elift2</a></span> (<span class="kwd">fun</span> <span class="id">sofarT</span> <span class="id">eT</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">et</span> := <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#exprct_type_annot">exprct_type_annot</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT">eT</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">sofart</span> := <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.ergoc_type_join">ergoc_type_join</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#et">et</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofarT">sofarT</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id"><a href="ErgoSpec.Common.Ast.html#CaseLet">CaseLet</a></span> (<span class="id">prov</span>,<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofart">sofart</a></span>) <span class="id">name</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>), <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT">eT</a></span>)::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofarT">sofarT</a></span>, <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofart">sofart</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofarT">sofarT</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheckContext.html#type_context_update_local_env">type_context_update_local_env</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">name</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tbrand">tbrand</a></span> (<span class="id">b</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">res</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id"><a href="ErgoSpec.Common.Ast.html#CaseLetOption">CaseLetOption</a></span> <span class="id">prov</span> <span class="id">name</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>, <span class="id">res</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.unteither">unteither</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#t0">t0</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#case_option_not_on_either_error">case_option_not_on_either_error</a></span> <span class="id">prov</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">st</span>, <span class="id">ft</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#elift2">elift2</a></span> (<span class="kwd">fun</span> <span class="id">sofarT</span> <span class="id">eT</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">et</span> := <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#exprct_type_annot">exprct_type_annot</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT">eT</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">sofart</span> := <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.ergoc_type_join">ergoc_type_join</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#et">et</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofarT">sofarT</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id"><a href="ErgoSpec.Common.Ast.html#CaseLetOption">CaseLetOption</a></span> (<span class="id">prov</span>,<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofart">sofart</a></span>) <span class="id">name</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>,<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT">eT</a></span>)::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofarT">sofarT</a></span>, <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofart">sofart</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofarT">sofarT</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> (<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheckContext.html#type_context_update_local_env">type_context_update_local_env</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span> <span class="id">name</span> <span class="id">st</span>) <span class="id">res</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id"><a href="ErgoSpec.Common.Ast.html#CaseLetOption">CaseLetOption</a></span> <span class="id">prov</span> <span class="id">name</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>), <span class="id">res</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.unteither">unteither</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#t0">t0</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#case_option_not_on_either_error">case_option_not_on_either_error</a></span> <span class="id">prov</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">st</span>, <span class="id">ft</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#elift2">elift2</a></span> (<span class="kwd">fun</span> <span class="id">sofarT</span> <span class="id">eT</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">et</span> := <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#exprct_type_annot">exprct_type_annot</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT">eT</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">sofart</span> := <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.ergoc_type_join">ergoc_type_join</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#et">et</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofarT">sofarT</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id"><a href="ErgoSpec.Common.Ast.html#CaseLetOption">CaseLetOption</a></span> (<span class="id">prov</span>,<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofart">sofart</a></span>) <span class="id">name</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>), <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT">eT</a></span>)::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofarT">sofarT</a></span>, <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofart">sofart</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofarT">sofarT</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> (<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheckContext.html#type_context_update_local_env">type_context_update_local_env</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">name</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tbrand">tbrand</a></span> (<span class="id">b</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">res</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id"><a href="ErgoSpec.Common.Ast.html#CaseWildcard">CaseWildcard</a></span> <span class="id">prov</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>), <span class="id">res</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#elift2">elift2</a></span> (<span class="kwd">fun</span> <span class="id">sofarT</span> <span class="id">eT</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">sofart</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofarT">sofarT</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id"><a href="ErgoSpec.Common.Ast.html#CaseWildcard">CaseWildcard</a></span> (<span class="id">prov</span>,<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofart">sofart</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>), <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT">eT</a></span>)::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofarT">sofarT</a></span>, <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofart">sofart</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#sofarT">sofarT</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span> <span class="id">res</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Common.Result.html#esuccess">esuccess</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#dt">dt</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pes</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span> <span class="id">term</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span> <span class="id">default</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#EForeach">EForeach</a></span> <span class="id">prov</span> ((<span class="id">name</span>,<span class="id">arr</span>)::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">fn</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#eolift">eolift</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">arrT</span>' =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">arr</span>' := <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#exprct_type_annot">exprct_type_annot</a></span> <span class="id">arrT</span>' <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#eolift">eolift</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">typ</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Common.Result.html#elift">elift</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">eT</span> =&gt; <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#EForeach">EForeach</a></span> (<span class="id">prov</span>, <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tcoll">tcoll</a></span> (<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#exprct_type_annot">exprct_type_annot</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT">eT</a></span>)) ((<span class="id">name</span>,<span class="id">arrT</span>')::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eT">eT</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> (<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheckContext.html#type_context_update_local_env">type_context_update_local_env</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span> <span class="id">name</span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#typ">typ</a></span>) <span class="id">fn</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Common.Result.html#eresult_of_option">eresult_of_option</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.untcoll">untcoll</a></span> <span class="id">arr</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Common.Result.html#ETypeError">ETypeError</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">prov</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("<span class="id">foreach</span> <span class="id">expects</span> <span class="id">an</span> <span class="id">array</span> <span class="id">to</span> <span class="id">iterate</span> <span class="id">over</span>, <span class="id">but</span> <span class="id">was</span> <span class="id">given</span> <span class="id">something</span> <span class="id">of</span> <span class="id">type</span> `" ++ (<span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id">arr</span>') ++ "'.")) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ctxt">ctxt</a></span> <span class="id">arr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.Ergo.Lang.Ergo.html#EForeach">EForeach</a></span> <span class="id">prov</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#complex_foreach_in_calculus_error">complex_foreach_in_calculus_error</a></span> <span class="id">prov</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="ergoc_typecheck_function">ergoc_typecheck_function</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">nsctxt</span>: <span class="id"><a href="ErgoSpec.Common.NamespaceContext.html#namespace_ctxt">namespace_ctxt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">name</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">dctxt</span> : <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheckContext.html#type_context">type_context</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">func</span> : <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#ergoc_function">ergoc_function</a></span>) : <span class="id"><a href="ErgoSpec.Common.Result.html#eresult">eresult</a></span> (<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#ergoct_function">ergoct_function</a></span> * <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheckContext.html#type_context">type_context</a></span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#func">func</a></span>.(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#functionc_body">functionc_body</a></span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="ErgoSpec.Common.Result.html#esuccess">esuccess</a></span> (<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#mkFuncCT">mkFuncCT</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#func">func</a></span>.(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#functionc_annot">functionc_annot</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#func">func</a></span>.(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#functionc_sig">functionc_sig</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#dctxt">dctxt</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">body</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">tsig</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#x">x</a></span>, <span class="id"><a href="ErgoSpec.Types.ErgoTypetoErgoCType.html#ergo_type_to_ergoc_type">ergo_type_to_ergoc_type</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#x">x</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#func">func</a></span>.(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#functionc_sig">functionc_sig</a></span>).(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#sigc_params">sigc_params</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#eolift">eolift</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">outT</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">outt</span> := <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#exprct_type_annot">exprct_type_annot</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#outT">outT</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">eoutt</span> := <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#func">func</a></span>.(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#functionc_sig">functionc_sig</a></span>).(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#sigc_output">sigc_output</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#eoutt">eoutt</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="ErgoSpec.Common.Result.html#esuccess">esuccess</a></span> (<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#mkFuncCT">mkFuncCT</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#func">func</a></span>.(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#functionc_annot">functionc_annot</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#func">func</a></span>.(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#functionc_sig">functionc_sig</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#outT">outT</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#dctxt">dctxt</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">eoutt</span>' =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">expectedt</span> := <span class="id"><a href="ErgoSpec.Types.ErgoTypetoErgoCType.html#ergo_type_to_ergoc_type">ergo_type_to_ergoc_type</a></span> <span class="id">eoutt</span>' <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="https://querycert.github.io/html/Qcert.TypeSystem.RSubtype.html#subtype_dec">subtype_dec</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#outt">outt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#expectedt">expectedt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="ErgoSpec.Common.Result.html#esuccess">esuccess</a></span> (<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#mkFuncCT">mkFuncCT</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#func">func</a></span>.(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#functionc_annot">functionc_annot</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#func">func</a></span>.(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#functionc_sig">functionc_sig</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#outT">outT</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#dctxt">dctxt</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">body_prov</span> := <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#bodyc_annot">bodyc_annot</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#func">func</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#func">func</a></span>.(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#functionc_annot">functionc_annot</a></span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.Common.Provenance.html#ProvClause">ProvClause</a></span> <span class="id">_</span> <span class="id">name</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#efailure">efailure</a></span> (<span class="id"><a href="ErgoSpec.Common.Result.html#ETypeError">ETypeError</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#body_prov">body_prov</a></span> (<span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#ergo_format_clause_return_error">ergo_format_clause_return_error</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#name">name</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#outt">outt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#expectedt">expectedt</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.Common.Provenance.html#ProvFunc">ProvFunc</a></span> <span class="id">_</span> <span class="id">name</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#efailure">efailure</a></span> (<span class="id"><a href="ErgoSpec.Common.Result.html#ETypeError">ETypeError</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#body_prov">body_prov</a></span> (<span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#ergo_format_function_return_error">ergo_format_function_return_error</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#name">name</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#outt">outt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#expectedt">expectedt</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#efailure">efailure</a></span> (<span class="id"><a href="ErgoSpec.Common.Result.html#ETypeError">ETypeError</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#body_prov">body_prov</a></span> (<span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#ergo_format_function_return_error">ergo_format_function_return_error</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#name">name</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#outt">outt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#expectedt">expectedt</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> (<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheckContext.html#type_context_set_local_env">type_context_set_local_env</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#dctxt">dctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#tsig">tsig</a></span>) <span class="id">body</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="ergoc_typecheck_clause">ergoc_typecheck_clause</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">nsctxt</span>: <span class="id"><a href="ErgoSpec.Common.NamespaceContext.html#namespace_ctxt">namespace_ctxt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">dctxt</span> : <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheckContext.html#type_context">type_context</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">cl</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#ergoc_function">ergoc_function</a></span>) : <span class="id"><a href="ErgoSpec.Common.Result.html#eresult">eresult</a></span> ((<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#ergoct_function">ergoct_function</a></span>) * <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheckContext.html#type_context">type_context</a></span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> (<span class="id">name</span>,<span class="id">body</span>) := <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#cl">cl</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#elift">elift</a></span> (<span class="kwd">fun</span> <span class="id">fT</span> =&gt; ((<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#name">name</a></span>,<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#fT">fT</a></span>), <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#fT">fT</a></span>)) (<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_function">ergoc_typecheck_function</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#name">name</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#dctxt">dctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#body">body</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="ergoc_typecheck_contract">ergoc_typecheck_contract</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">nsctxt</span>: <span class="id"><a href="ErgoSpec.Common.NamespaceContext.html#namespace_ctxt">namespace_ctxt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">dctxt</span> : <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheckContext.html#type_context">type_context</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">coname</span>: <span class="id"><a href="ErgoSpec.Common.Names.html#absolute_name">absolute_name</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">c</span> : <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#ergoc_contract">ergoc_contract</a></span>) : <span class="id"><a href="ErgoSpec.Common.Result.html#eresult">eresult</a></span> (<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#ergoct_contract">ergoct_contract</a></span> * <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheckContext.html#type_context">type_context</a></span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#elift">elift</a></span> (<span class="kwd">fun</span> <span class="id">cT</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#mkContractCT">mkContractCT</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#c">c</a></span>.(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#contractc_annot">contractc_annot</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#cT">cT</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#cT">cT</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Common.Result.html#elift_context_fold_left">elift_context_fold_left</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_clause">ergoc_typecheck_clause</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#c">c</a></span>.(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#contractc_clauses">contractc_clauses</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#dctxt">dctxt</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="ergoc_typecheck_decl">ergoc_typecheck_decl</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">nsctxt</span>: <span class="id"><a href="ErgoSpec.Common.NamespaceContext.html#namespace_ctxt">namespace_ctxt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">dctxt</span> : <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheckContext.html#type_context">type_context</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">decl</span> : <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#ergoc_declaration">ergoc_declaration</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id"><a href="ErgoSpec.Common.Result.html#eresult">eresult</a></span> (<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#ergoct_declaration">ergoct_declaration</a></span> * <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheckContext.html#type_context">type_context</a></span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#decl">decl</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#DCExpr">DCExpr</a></span> <span class="id">prov</span> <span class="id">expr</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">exprT</span> := <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#dctxt">dctxt</a></span> <span class="id">expr</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#elift">elift</a></span> (<span class="kwd">fun</span> <span class="id">xT</span> =&gt; (<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#DCTExpr">DCTExpr</a></span> (<span class="id">prov</span>, <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#exprct_type_annot">exprct_type_annot</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#xT">xT</a></span>) <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#xT">xT</a></span>, <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#dctxt">dctxt</a></span>)) <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#exprT">exprT</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#DCConstant">DCConstant</a></span> <span class="id">prov</span> <span class="id">name</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">expr</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">exprT</span> := <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#dctxt">dctxt</a></span> <span class="id">expr</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#elift">elift</a></span> (<span class="kwd">fun</span> <span class="id">xT</span> =&gt; (<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#DCTConstant">DCTConstant</a></span> (<span class="id">prov</span>,<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#exprct_type_annot">exprct_type_annot</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#xT">xT</a></span>) <span class="id">name</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#xT">xT</a></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheckContext.html#type_context_update_global_env">type_context_update_global_env</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#dctxt">dctxt</a></span> <span class="id">name</span> (<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#exprct_type_annot">exprct_type_annot</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#xT">xT</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#exprT">exprT</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#DCConstant">DCConstant</a></span> <span class="id">prov</span> <span class="id">name</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">t</span>) <span class="id">expr</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">fmt_err</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id">t</span>' <span class="id">vt</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#ETypeError">ETypeError</a></span> <span class="id">prov</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("<span class="id">The</span> <span class="id">type</span> <span class="id">annotation</span> `"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ (<span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id">t</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "' <span class="kwd">for</span> <span class="id">the</span> <span class="id">constant</span> `"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id">name</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "' <span class="id">does</span> <span class="id">not</span> <span class="kwd">match</span> <span class="id">its</span> <span class="id">actual</span> <span class="id">type</span> `"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ (<span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#vt">vt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "'.")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">exprT</span> := <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_expr">ergoc_typecheck_expr</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#dctxt">dctxt</a></span> <span class="id">expr</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#eolift">eolift</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">vT</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">vt</span> := <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#exprct_type_annot">exprct_type_annot</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#vT">vT</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">t</span>' := (<span class="id"><a href="ErgoSpec.Types.ErgoTypetoErgoCType.html#ergo_type_to_ergoc_type">ergo_type_to_ergoc_type</a></span> <span class="id">t</span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="https://querycert.github.io/html/Qcert.TypeSystem.RSubtype.html#subtype_dec">subtype_dec</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#vt">vt</a></span> <span class="id">t</span>' <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">ctxt</span>' := <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheckContext.html#type_context_update_global_env">type_context_update_global_env</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#dctxt">dctxt</a></span> <span class="id">name</span> <span class="id">t</span>' <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#esuccess">esuccess</a></span> (<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#DCTConstant">DCTConstant</a></span> (<span class="id">prov</span>,<span class="id">t</span>') <span class="id">name</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">t</span>) <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#vT">vT</a></span>, <span class="id">ctxt</span>') <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#efailure">efailure</a></span> (<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#fmt_err">fmt_err</a></span> <span class="id">t</span>' <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#vt">vt</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#exprT">exprT</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#DCFunc">DCFunc</a></span> <span class="id">prov</span> <span class="id">name</span> <span class="id">func</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#elift">elift</a></span> (<span class="kwd">fun</span> <span class="id">fc</span> =&gt; (<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#DCTFunc">DCTFunc</a></span> <span class="id">prov</span> <span class="id">name</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#fc">fc</a></span>),<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#fc">fc</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_function">ergoc_typecheck_function</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id">name</span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#dctxt">dctxt</a></span> <span class="id">func</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#DCContract">DCContract</a></span> <span class="id">prov</span> <span class="id">name</span> <span class="id">contr</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#elift">elift</a></span> (<span class="kwd">fun</span> <span class="id">fc</span> =&gt; (<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#DCTContract">DCTContract</a></span> <span class="id">prov</span> <span class="id">name</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#fc">fc</a></span>),<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#fc">fc</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_contract">ergoc_typecheck_contract</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#dctxt">dctxt</a></span> <span class="id">name</span> <span class="id">contr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="ergoc_typecheck_module">ergoc_typecheck_module</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">nsctxt</span>: <span class="id"><a href="ErgoSpec.Common.NamespaceContext.html#namespace_ctxt">namespace_ctxt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">dctxt</span> : <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheckContext.html#type_context">type_context</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">mod</span> : <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#ergoc_module">ergoc_module</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id"><a href="ErgoSpec.Common.Result.html#eresult">eresult</a></span> (<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#ergoct_module">ergoct_module</a></span> * <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheckContext.html#type_context">type_context</a></span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#elift">elift</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; (<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCT.html#mkModuleCT">mkModuleCT</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#mod">mod</a></span>.(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#modulec_annot">modulec_annot</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#mod">mod</a></span>.(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#modulec_namespace">modulec_namespace</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#x">x</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#x">x</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Common.Result.html#elift_context_fold_left">elift_context_fold_left</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ergoc_typecheck_decl">ergoc_typecheck_decl</a></span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#nsctxt">nsctxt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#mod">mod</a></span>.(<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoC.html#modulec_declarations">modulec_declarations</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#dctxt">dctxt</a></span>).<br/>
&nbsp;&nbsp;<br/>
<span class="kwd">End</span> <span class="id"><a href="ErgoSpec.ErgoC.Lang.ErgoCTypecheck.html#ErgoCTypecheck">ErgoCTypecheck</a></span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</div>
</body>
</html>
