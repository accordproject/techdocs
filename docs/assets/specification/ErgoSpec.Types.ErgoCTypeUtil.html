
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module ErgoSpec.Types.ErgoCTypeUtil</title>
<meta name="description" content="Documentation of Coq module ErgoSpec.Types.ErgoCTypeUtil" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module ErgoSpec.Types.ErgoCTypeUtil</h1>
<div class="coq">
<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html">String</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html">List</a></span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html">ErgoSpec.Backend.QLib</a></span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="ErgoSpec.Common.Provenance.html">ErgoSpec.Common.Provenance</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="ErgoSpec.Common.Names.html">ErgoSpec.Common.Names</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="ErgoSpec.Common.Result.html">ErgoSpec.Common.Result</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="ErgoSpec.Common.Ast.html">ErgoSpec.Common.Ast</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="ErgoSpec.Common.PrintTypedData.html">ErgoSpec.Common.PrintTypedData</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="ErgoCTypeUtil">ErgoCTypeUtil</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">m</span> : <span class="id"><a href="https://querycert.github.io/html/Qcert.TypeSystem.TBrandModel.html#brand_model">brand_model</a></span>}.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Import</span> <span class="id">QcertType</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="ergoc_type_join_safe">ergoc_type_join_safe</a></span> <span class="id">prov</span> (<span class="id">t1</span> <span class="id">t2</span>:<span class="id"><a href="ErgoSpec.Backend.QLib.html#ergoc_type">ergoc_type</a></span>) : <span class="id"><a href="ErgoSpec.Common.Result.html#eresult">eresult</a></span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#ergoc_type">ergoc_type</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">jt</span> := <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.ergoc_type_join">ergoc_type_join</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#t1">t1</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#t2">t2</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.ergoc_type_subtype_dec">ergoc_type_subtype_dec</a></span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.ttop">ttop</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#jt">jt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="ErgoSpec.Common.Result.html#efailure">efailure</a></span> (<span class="id"><a href="ErgoSpec.Common.Result.html#ETypeError">ETypeError</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#prov">prov</a></span> ("<span class="id">Join</span> <span class="id">between</span> <span class="id">types</span> <span class="id">is</span> <span class="id">TOP</span>.")%<span class="id">string</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="ErgoSpec.Common.Result.html#esuccess">esuccess</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#jt">jt</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="ergoc_type_meet_safe">ergoc_type_meet_safe</a></span> <span class="id">prov</span> (<span class="id">t1</span> <span class="id">t2</span>:<span class="id"><a href="ErgoSpec.Backend.QLib.html#ergoc_type">ergoc_type</a></span>) : <span class="id"><a href="ErgoSpec.Common.Result.html#eresult">eresult</a></span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#ergoc_type">ergoc_type</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">jt</span> := <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.ergoc_type_meet">ergoc_type_meet</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#t1">t1</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#t2">t2</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.ergoc_type_subtype_dec">ergoc_type_subtype_dec</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#jt">jt</a></span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tbottom">tbottom</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="ErgoSpec.Common.Result.html#efailure">efailure</a></span> (<span class="id"><a href="ErgoSpec.Common.Result.html#ETypeError">ETypeError</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#prov">prov</a></span> ("<span class="id">Meet</span> <span class="id">between</span> <span class="id">types</span> <span class="id">is</span> <span class="id">BOTTOM</span>.")%<span class="id">string</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="ErgoSpec.Common.Result.html#esuccess">esuccess</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#jt">jt</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Program</span> <span class="kwd">Definition</span> <span class="id"><a name="empty_rec_type">empty_rec_type</a></span> : <span class="id"><a href="ErgoSpec.Backend.QLib.html#ergoc_type">ergoc_type</a></span> := <span class="id"><a href="https://querycert.github.io/html/Qcert.TypeSystem.RType.html#Rec">Rec</a></span> <span class="id"><a href="https://querycert.github.io/html/Qcert.TypeSystem.RType.html#Closed">Closed</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">_</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="ergo_format_unop_error">ergo_format_unop_error</a></span> <span class="id">nsctxt</span> (<span class="id">op</span> : <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#unary_op">unary_op</a></span>) (<span class="id">arg</span> : <span class="id"><a href="ErgoSpec.Backend.QLib.html#ergoc_type">ergoc_type</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">fmt_easy</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id">name</span> <span class="id">expected</span> <span class="id">actual</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("<span class="id">Operator</span> `" ++ <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#name">name</a></span> ++ "' <span class="id">expected</span> <span class="id">an</span> <span class="id">operand</span> <span class="id">of</span> <span class="id">type</span> `" ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#expected">expected</a></span>) ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"' <span class="id">but</span> <span class="id">received</span> <span class="id">an</span> <span class="id">operand</span> <span class="id">of</span> <span class="id">type</span> `" ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#actual">actual</a></span>) ++ "'.")%<span class="id">string</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#op">op</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpNeg">OpNeg</a></span> =&gt; <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#fmt_easy">fmt_easy</a></span> "!"%<span class="id">string</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tbool">tbool</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#arg">arg</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpFloatUnary">OpFloatUnary</a></span> <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#FloatNeg">FloatNeg</a></span> =&gt; <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#fmt_easy">fmt_easy</a></span> "-"%<span class="id">string</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tfloat">tfloat</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#arg">arg</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpDot">OpDot</a></span> <span class="id">name</span> =&gt; "<span class="id">The</span> <span class="id">field</span> `" ++ <span class="id">name</span> ++ "' <span class="id">does</span> <span class="id">not</span> <span class="id">exist</span> <span class="kwd">in</span> <span class="id">type</span> `" ++ (<span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#arg">arg</a></span>) ++ "'"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpIdentity">OpIdentity</a></span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpRec">OpRec</a></span> <span class="id">_</span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpBag">OpBag</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpLeft">OpLeft</a></span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpRight">OpRight</a></span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpBrand">OpBrand</a></span> <span class="id">_</span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpUnbrand">OpUnbrand</a></span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpCast">OpCast</a></span> <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">This</span> <span class="id">operator</span> <span class="id">received</span> <span class="id">an</span> <span class="id">unexpected</span> <span class="id">argument</span> <span class="id">of</span> <span class="id">type</span> `" ++ (<span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#arg">arg</a></span>) ++ "'"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpRecRemove">OpRecRemove</a></span> <span class="id">_</span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpRecProject">OpRecProject</a></span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpSingleton">OpSingleton</a></span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpFlatten">OpFlatten</a></span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpDistinct">OpDistinct</a></span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpOrderBy">OpOrderBy</a></span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpCount">OpCount</a></span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpToString">OpToString</a></span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpToText">OpToText</a></span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpLength">OpLength</a></span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpSubstring">OpSubstring</a></span> <span class="id">_</span> <span class="id">_</span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpLike">OpLike</a></span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpNatUnary">OpNatUnary</a></span> <span class="id">_</span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpNatSum">OpNatSum</a></span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpNatMin">OpNatMin</a></span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpNatMax">OpNatMax</a></span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpNatMean">OpNatMean</a></span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpFloatOfNat">OpFloatOfNat</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpFloatUnary">OpFloatUnary</a></span> <span class="id">_</span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpFloatTruncate">OpFloatTruncate</a></span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpFloatSum">OpFloatSum</a></span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpFloatMean">OpFloatMean</a></span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpFloatBagMin">OpFloatBagMin</a></span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpFloatBagMax">OpFloatBagMax</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.UnaryOperators.html#OpForeignUnary">OpForeignUnary</a></span> <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">This</span> <span class="id">function</span> <span class="id">received</span> <span class="id">an</span> <span class="id">unexpected</span> <span class="id">argument</span> <span class="id">of</span> <span class="id">type</span> `" ++ (<span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#arg">arg</a></span>) ++ "'"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="ergo_format_binop_error">ergo_format_binop_error</a></span> <span class="id">nsctxt</span> (<span class="id">op</span> : <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#binary_op">binary_op</a></span>) (<span class="id">arg1</span> : <span class="id"><a href="ErgoSpec.Backend.QLib.html#ergoc_type">ergoc_type</a></span>) (<span class="id">arg2</span> : <span class="id"><a href="ErgoSpec.Backend.QLib.html#ergoc_type">ergoc_type</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">fmt_easy</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id">name</span> <span class="id">e1</span> <span class="id">e2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("<span class="id">Operator</span> `" ++ <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#name">name</a></span> ++ "' <span class="id">expected</span> <span class="id">operands</span> <span class="id">of</span> <span class="id">type</span> `" ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#e1">e1</a></span>) ++ "' <span class="id">and</span> `" ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#e2">e2</a></span>) ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"' <span class="id">but</span> <span class="id">received</span> <span class="id">operands</span> <span class="id">of</span> <span class="id">type</span> `" ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#arg1">arg1</a></span>) ++ "' <span class="id">and</span> `" ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#arg2">arg2</a></span>) ++ "'.")%<span class="id">string</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#op">op</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpAnd">OpAnd</a></span> =&gt; <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#fmt_easy">fmt_easy</a></span> "<span class="id">and</span>"%<span class="id">string</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tbool">tbool</a></span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tbool">tbool</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpOr">OpOr</a></span> =&gt; <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#fmt_easy">fmt_easy</a></span> "<span class="id">or</span>"%<span class="id">string</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tbool">tbool</a></span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tbool">tbool</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpLt">OpLt</a></span> =&gt; <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#fmt_easy">fmt_easy</a></span> "&lt;"%<span class="id">string</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tnat">tnat</a></span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tnat">tnat</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpLe">OpLe</a></span> =&gt; <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#fmt_easy">fmt_easy</a></span> "&lt;="%<span class="id">string</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tnat">tnat</a></span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tnat">tnat</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpFloatBinary">OpFloatBinary</a></span> <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#FloatPlus">FloatPlus</a></span> =&gt; <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#fmt_easy">fmt_easy</a></span> "+"%<span class="id">string</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tfloat">tfloat</a></span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tfloat">tfloat</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpFloatBinary">OpFloatBinary</a></span> <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#FloatMinus">FloatMinus</a></span> =&gt; <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#fmt_easy">fmt_easy</a></span> "-"%<span class="id">string</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tfloat">tfloat</a></span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tfloat">tfloat</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpFloatBinary">OpFloatBinary</a></span> <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#FloatMult">FloatMult</a></span> =&gt; <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#fmt_easy">fmt_easy</a></span> "*"%<span class="id">string</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tfloat">tfloat</a></span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tfloat">tfloat</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpFloatBinary">OpFloatBinary</a></span> <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#FloatDiv">FloatDiv</a></span> =&gt; <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#fmt_easy">fmt_easy</a></span> "/"%<span class="id">string</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tfloat">tfloat</a></span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tfloat">tfloat</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpFloatBinary">OpFloatBinary</a></span> <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#FloatPow">FloatPow</a></span> =&gt; <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#fmt_easy">fmt_easy</a></span> "^"%<span class="id">string</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tfloat">tfloat</a></span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tfloat">tfloat</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpNatBinary">OpNatBinary</a></span> <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#NatPlus">NatPlus</a></span> =&gt; <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#fmt_easy">fmt_easy</a></span> "+"%<span class="id">string</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tnat">tnat</a></span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tnat">tnat</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpNatBinary">OpNatBinary</a></span> <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#NatMinus">NatMinus</a></span> =&gt; <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#fmt_easy">fmt_easy</a></span> "-"%<span class="id">string</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tnat">tnat</a></span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tnat">tnat</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpNatBinary">OpNatBinary</a></span> <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#NatMult">NatMult</a></span> =&gt; <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#fmt_easy">fmt_easy</a></span> "*"%<span class="id">string</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tnat">tnat</a></span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tnat">tnat</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpNatBinary">OpNatBinary</a></span> <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#NatDiv">NatDiv</a></span> =&gt; <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#fmt_easy">fmt_easy</a></span> "/"%<span class="id">string</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tnat">tnat</a></span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tnat">tnat</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpNatBinary">OpNatBinary</a></span> <span class="id">NatPow</span> =&gt; <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#fmt_easy">fmt_easy</a></span> "^"%<span class="id">string</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tnat">tnat</a></span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tnat">tnat</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpFloatCompare">OpFloatCompare</a></span> <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#FloatLt">FloatLt</a></span> =&gt; <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#fmt_easy">fmt_easy</a></span> "&lt;"%<span class="id">string</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tfloat">tfloat</a></span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tfloat">tfloat</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpFloatCompare">OpFloatCompare</a></span> <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#FloatLe">FloatLe</a></span> =&gt; <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#fmt_easy">fmt_easy</a></span> "&lt;="%<span class="id">string</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tfloat">tfloat</a></span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tfloat">tfloat</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpFloatCompare">OpFloatCompare</a></span> <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#FloatGt">FloatGt</a></span> =&gt; <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#fmt_easy">fmt_easy</a></span> "&gt;"%<span class="id">string</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tfloat">tfloat</a></span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tfloat">tfloat</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpFloatCompare">OpFloatCompare</a></span> <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#FloatGe">FloatGe</a></span> =&gt; <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#fmt_easy">fmt_easy</a></span> "&gt;="%<span class="id">string</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tfloat">tfloat</a></span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.tfloat">tfloat</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpRecConcat">OpRecConcat</a></span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpRecMerge">OpRecMerge</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpEqual">OpEqual</a></span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpStringConcat">OpStringConcat</a></span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpStringJoin">OpStringJoin</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; "<span class="id">This</span> <span class="id">operator</span> <span class="id">received</span> <span class="id">unexpected</span> <span class="id">arguments</span> <span class="id">of</span> <span class="id">type</span> `" ++ (<span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#arg1">arg1</a></span>) ++ "' " ++ " <span class="id">and</span> `" ++ (<span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#arg2">arg2</a></span>) ++ "'."<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpBagUnion">OpBagUnion</a></span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpBagDiff">OpBagDiff</a></span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpBagMin">OpBagMin</a></span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpBagMax">OpBagMax</a></span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpBagNth">OpBagNth</a></span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpContains">OpContains</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpFloatBinary">OpFloatBinary</a></span> <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#FloatMin">FloatMin</a></span> | <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpFloatBinary">OpFloatBinary</a></span> <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#FloatMax">FloatMax</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://querycert.github.io/html/Qcert.Data.Operators.BinaryOperators.html#OpForeignBinary">OpForeignBinary</a></span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; "<span class="id">This</span> <span class="id">function</span> <span class="id">received</span> <span class="id">unexpected</span> <span class="id">arguments</span> <span class="id">of</span> <span class="id">type</span> `" ++ (<span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#arg1">arg1</a></span>) ++ "' " ++ " <span class="id">and</span> `" ++ (<span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#arg2">arg2</a></span>) ++ "'."<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="ergo_format_unary_operator_dispatch_error">ergo_format_unary_operator_dispatch_error</a></span> <span class="id">nsctxt</span> (<span class="id">op</span> : <span class="id"><a href="ErgoSpec.Common.Ast.html#ergo_unary_operator">ergo_unary_operator</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">arg</span> : <span class="id"><a href="ErgoSpec.Backend.QLib.html#ergoc_type">ergoc_type</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">This</span> <span class="id">operator</span> <span class="id">received</span> <span class="id">an</span> <span class="id">unexpected</span> <span class="id">argument</span> <span class="id">of</span> <span class="id">type</span> `" ++ (<span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#arg">arg</a></span>) ++ "'.".<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="ergo_format_binary_operator_dispatch_error">ergo_format_binary_operator_dispatch_error</a></span> <span class="id">nsctxt</span> (<span class="id">op</span> : <span class="id"><a href="ErgoSpec.Common.Ast.html#ergo_binary_operator">ergo_binary_operator</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">arg1</span> : <span class="id"><a href="ErgoSpec.Backend.QLib.html#ergoc_type">ergoc_type</a></span>) (<span class="id">arg2</span> : <span class="id"><a href="ErgoSpec.Backend.QLib.html#ergoc_type">ergoc_type</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">This</span> <span class="id">operator</span> <span class="id">received</span> <span class="id">unexpected</span> <span class="id">arguments</span> <span class="id">of</span> <span class="id">type</span> `" ++ (<span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#arg1">arg1</a></span>) ++ "' " ++ " <span class="id">and</span> `" ++ (<span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#arg2">arg2</a></span>) ++ "'.".<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="ergo_format_new_error">ergo_format_new_error</a></span> <span class="id">nsctxt</span> (<span class="id">name</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">actual</span>:<span class="id"><a href="ErgoSpec.Backend.QLib.html#ergoc_type">ergoc_type</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">concept_name</span> := <span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> (<span class="id"><a href="https://querycert.github.io/html/Qcert.TypeSystem.RType.html#Brand">Brand</a></span> (<span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#name">name</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.diff_record_types">diff_record_types</a></span> (<span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#name">name</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#actual">actual</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; "<span class="id">Concept</span> <span class="id">name</span> " ++ <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#name">name</a></span> ++ " <span class="id">does</span> <span class="id">not</span> <span class="kwd">match</span> <span class="id">data</span>"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.fields_that_are_not_subtype">fields_that_are_not_subtype</a></span> (<span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#name">name</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#actual">actual</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; "<span class="id">Concept</span> " ++ <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#name">name</a></span> ++ " <span class="id">doesn</span>'<span class="id">t</span> <span class="kwd">match</span> <span class="id">data</span> (<span class="id">one</span> <span class="id">field</span> <span class="id">is</span> <span class="id">not</span> <span class="id">a</span> <span class="id">subtype</span>)"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id">expected_name</span>, <span class="id">expected_type</span>, <span class="id">actual_type</span>) :: <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Field</span> `" ++ <span class="id">expected_name</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "' <span class="id">has</span> <span class="id">type</span> `" ++ (<span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id">actual_type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "' <span class="id">but</span> <span class="id">should</span> <span class="id">have</span> <span class="id">type</span> `" ++ (<span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id">expected_type</span>) ++ "'"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id">actual_name</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Unknown</span> <span class="id">field</span> `" ++ <span class="id">actual_name</span> ++ "' <span class="kwd">in</span> <span class="id">type</span> `" ++ <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#concept_name">concept_name</a></span> ++ "'"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id">actual_names</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Unknown</span> <span class="id">fields</span> `" ++ <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#concat">String.concat</a></span> "', `" <span class="id">actual_names</span> ++ "' <span class="kwd">in</span> <span class="id">type</span> `" ++ <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#concept_name">concept_name</a></span> ++ "'"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">expected_name</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Missing</span> <span class="id">field</span> `" ++ <span class="id">expected_name</span> ++ "' <span class="kwd">in</span> <span class="id">type</span> `" ++ <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#concept_name">concept_name</a></span> ++ "'"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">expected_names</span>, <span class="id">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Missing</span> <span class="id">fields</span> `" ++ <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#concat">String.concat</a></span> "', `" <span class="id">expected_names</span> ++ "' <span class="kwd">in</span> <span class="id">type</span> `" ++ <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#concept_name">concept_name</a></span> ++ "'"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="ergo_format_clause_return_fallback_error">ergo_format_clause_return_fallback_error</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">nsctxt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">name</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">actual</span> <span class="id">expected</span>:<span class="id"><a href="ErgoSpec.Backend.QLib.html#ergoc_type">ergoc_type</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">actual_s</span> := <span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#actual">actual</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">expected_s</span> := <span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#expected">expected</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Clause</span> " ++ <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#name">name</a></span> ++ " <span class="id">should</span> <span class="kwd">return</span> `" ++ <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#expected_s">expected_s</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "' <span class="id">but</span> <span class="id">actually</span> <span class="id">returns</span> `" ++ <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#actual_s">actual_s</a></span> ++ "'".<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="ergo_format_clause_return_component_error">ergo_format_clause_return_component_error</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">nsctxt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">name</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">component1</span> <span class="id">component2</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">actual</span> <span class="id">expected</span>:<span class="id"><a href="ErgoSpec.Backend.QLib.html#ergoc_type">ergoc_type</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">actual_s</span> := <span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#actual">actual</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">expected_s</span> := <span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#expected">expected</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Clause</span> " ++ <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#name">name</a></span> ++ " <span class="id">should</span> " ++ <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#component1">component1</a></span> ++ " `" ++ <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#expected_s">expected_s</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "' <span class="id">but</span> <span class="id">actually</span> " ++ <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#component2">component2</a></span> ++ " `" ++ <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#actual_s">actual_s</a></span> ++ "'".<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="ergo_format_clause_return_normal_error">ergo_format_clause_return_normal_error</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">nsctxt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">name</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">actual</span> <span class="id">expected</span>:<span class="id"><a href="ErgoSpec.Backend.QLib.html#ergoc_type">ergoc_type</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">actual_quad</span> <span class="id">expected_quad</span>:<span class="id"><a href="ErgoSpec.Backend.QLib.html#ergoc_type">ergoc_type</a></span> * <span class="id"><a href="ErgoSpec.Backend.QLib.html#ergoc_type">ergoc_type</a></span> * <span class="id"><a href="ErgoSpec.Backend.QLib.html#ergoc_type">ergoc_type</a></span> * <span class="id"><a href="ErgoSpec.Backend.QLib.html#ergoc_type">ergoc_type</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> '(<span class="id">actual_resp</span>, <span class="id">actual_emit</span>, <span class="id">actual_state</span>, <span class="id">actual_error</span>) := <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#actual_quad">actual_quad</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> '(<span class="id">expected_resp</span>, <span class="id">expected_emit</span>, <span class="id">expected_state</span>, <span class="id">expected_error</span>) := <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#expected_quad">expected_quad</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.ergoc_type_subtype_dec">ergoc_type_subtype_dec</a></span> <span class="id">actual_resp</span> <span class="id">expected_resp</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.ergoc_type_subtype_dec">ergoc_type_subtype_dec</a></span> <span class="id">actual_emit</span> <span class="id">expected_emit</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.ergoc_type_subtype_dec">ergoc_type_subtype_dec</a></span> <span class="id">actual_state</span> <span class="id">expected_state</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.ergoc_type_subtype_dec">ergoc_type_subtype_dec</a></span> <span class="id">actual_error</span> <span class="id">expected_error</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#ergo_format_clause_return_fallback_error">ergo_format_clause_return_fallback_error</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#name">name</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#actual">actual</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#expected">expected</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#ergo_format_clause_return_component_error">ergo_format_clause_return_component_error</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#name">name</a></span> "<span class="tactic">fail</span> <span class="kwd">with</span>" "<span class="id">fails</span> <span class="kwd">with</span>" <span class="id">actual_error</span> <span class="id">expected_error</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#ergo_format_clause_return_component_error">ergo_format_clause_return_component_error</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#name">name</a></span> "<span class="tactic">set</span> <span class="id">state</span>" "<span class="id">sets</span> <span class="id">state</span>" <span class="id">actual_state</span> <span class="id">expected_state</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#ergo_format_clause_return_component_error">ergo_format_clause_return_component_error</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#name">name</a></span> "<span class="id">emit</span>" "<span class="id">emits</span>" <span class="id">actual_emit</span> <span class="id">expected_emit</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#ergo_format_clause_return_component_error">ergo_format_clause_return_component_error</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#name">name</a></span> "<span class="id">respond</span>" "<span class="id">responds</span>" <span class="id">actual_resp</span> <span class="id">expected_resp</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="ergo_format_clause_return_error">ergo_format_clause_return_error</a></span> <span class="id">nsctxt</span> (<span class="id">name</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">actual</span> <span class="id">expected</span>:<span class="id"><a href="ErgoSpec.Backend.QLib.html#ergoc_type">ergoc_type</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">actual_quad</span> := <span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#unpack_output_type">unpack_output_type</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#actual">actual</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">expected_quad</span> := <span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#unpack_output_type">unpack_output_type</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#expected">expected</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">normal_error</span> := <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#ergo_format_clause_return_normal_error">ergo_format_clause_return_normal_error</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#name">name</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#actual">actual</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#expected">expected</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">fallback_error</span> := <span class="kwd">fun</span> <span class="id">e</span> =&gt; <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#ergo_format_clause_return_fallback_error">ergo_format_clause_return_fallback_error</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#name">name</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#actual">actual</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#expected">expected</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Common.Result.html#elift2_both">elift2_both</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#normal_error">normal_error</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#fallback_error">fallback_error</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#actual_quad">actual_quad</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#expected_quad">expected_quad</a></span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="ergo_format_function_return_error">ergo_format_function_return_error</a></span> <span class="id">nsctxt</span> (<span class="id">name</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">actual</span> <span class="id">expected</span>:<span class="id"><a href="ErgoSpec.Backend.QLib.html#ergoc_type">ergoc_type</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">actual_s</span> := <span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#actual">actual</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">expected_s</span> := <span class="id"><a href="ErgoSpec.Common.PrintTypedData.html#ergoc_type_to_string">ergoc_type_to_string</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#expected">expected</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Function</span> " ++ <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#name">name</a></span> ++ " <span class="id">should</span> <span class="kwd">return</span> `" ++ <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#expected_s">expected_s</a></span> ++ "' <span class="id">but</span> <span class="id">actually</span> <span class="id">returns</span> `" ++ <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#actual_s">actual_s</a></span> ++ "'".<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="make_unary_operator_criteria">make_unary_operator_criteria</a></span> <span class="id">op</span> <span class="id">nsctxt</span> <span class="id">prov</span> <span class="id">t</span> : <span class="id"><a href="ErgoSpec.Common.Result.html#eresult">eresult</a></span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#ergoc_type">ergoc_type</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.ergoc_type_infer_unary_op">ergoc_type_infer_unary_op</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#op">op</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#t">t</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">r</span>, <span class="id">_</span>) =&gt; <span class="id"><a href="ErgoSpec.Common.Result.html#esuccess">esuccess</a></span> <span class="id">r</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="ErgoSpec.Common.Result.html#efailure">efailure</a></span> (<span class="id"><a href="ErgoSpec.Common.Result.html#ETypeError">ETypeError</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#prov">prov</a></span> (<span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#ergo_format_unop_error">ergo_format_unop_error</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#op">op</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#t">t</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="make_binary_operator_criteria">make_binary_operator_criteria</a></span> <span class="id">op</span> <span class="id">nsctxt</span> <span class="id">prov</span> <span class="id">t1</span> <span class="id">t2</span> : <span class="id"><a href="ErgoSpec.Common.Result.html#eresult">eresult</a></span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#ergoc_type">ergoc_type</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="ErgoSpec.Backend.QLib.html#QcertType.ergoc_type_infer_binary_op">ergoc_type_infer_binary_op</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#op">op</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#t1">t1</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#t2">t2</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">r</span>, <span class="id">_</span>, <span class="id">_</span>) =&gt; <span class="id"><a href="ErgoSpec.Common.Result.html#esuccess">esuccess</a></span> <span class="id">r</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="ErgoSpec.Common.Result.html#efailure">efailure</a></span> (<span class="id"><a href="ErgoSpec.Common.Result.html#ETypeError">ETypeError</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#prov">prov</a></span> (<span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#ergo_format_binop_error">ergo_format_binop_error</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#nsctxt">nsctxt</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#op">op</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#t1">t1</a></span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#t2">t2</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="ErgoSpec.Types.ErgoCTypeUtil.html#ErgoCTypeUtil">ErgoCTypeUtil</a></span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</div>
</body>
</html>
